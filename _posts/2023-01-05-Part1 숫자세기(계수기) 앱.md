---
title:  "[Android] Part1-ìˆ«ìì„¸ê¸°(ê³„ìˆ˜ê¸°) ì•±"

categories:
  - Android
tags:
  - [Android, Kotlin, ì•ˆë“œë¡œì´ë“œ ê°•ì˜]

toc: true
toc_sticky: true
 
date: 2023-01-05
last_modified_at: 2023-01-09
---

<br>
<br>
<br>

> í•´ë‹¹ ë‚´ìš©ì€ íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ [35ê°œ í”„ë¡œì íŠ¸ë¡œ ë°°ìš°ëŠ” Android ì•± ê°œë°œ feat. Jetpack Compose]ì˜ ê°•ì˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±í•œ ììŠµ ê¸°ë¡ì…ë‹ˆë‹¤.

<br><br>

# ğŸ“šìˆ«ìì„¸ê¸°(ê³„ìˆ˜ê¸°) ì•±
---

## â„¹ï¸ì•± ì„¤ëª…

í™”ë©´ ê°€ìš´ë°ì— ìˆ«ìë¥¼ ë³´ì—¬ì£¼ê³  + ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ«ìê°€ 1ì”© ì˜¬ë¼ê°€ê³ , ì´ˆê¸°í™” ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ«ìê°€ ì´ˆê¸°í™”ë˜ì–´ 0ì´ ë˜ëŠ” ê°„ë‹¨í•œ ì•±.

<br>

## âœ…êµ¬í˜„ ê¸°ëŠ¥

* '+' ë²„íŠ¼ í´ë¦­ ì‹œ, ìˆ«ìë¥¼ 1ì”© ì˜¬ë¦¬ê¸°
* ì´ˆê¸°í™” ë²„íŠ¼ì„ í´ë¦­ ì‹œ. ìˆ«ìë¥¼ 0ìœ¼ë¡œ ë³€ê²½í•˜ê¸°

---

## ğŸ“”UI êµ¬í˜„

ìš°ì„ , í™”ë©´ ì¤‘ì•™ì— ìˆ«ìë¥¼ í‘œì‹œí•˜ëŠ” í…ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ê³ , ê·¸ ì•„ë˜ì— ì´ˆê¸°í™” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ë²„íŠ¼ê³¼ 1ì”© ì¶”ê°€í•˜ëŠ” '+' ë²„íŠ¼ì„ ë‘˜ ê²ƒì´ë‹¤.

ì´ë¥¼ ìœ„í•´ ìµœìƒë‹¨ì— LinearLayoutì„ êµ¬í˜„í•˜ì˜€ë‹¤. LinearLayoutì— ëŒ€í•œ ìì„¸í•œ ë¶€ë¶„ì€ ë‚˜ì¤‘ì— ìì„¸íˆ ë‹¤ë£¨ë„ë¡ í•˜ì.

### ğŸ“–activity_main.xml

```kotlin
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">
```

ì—¬ê¸°ì„œ `android:layout_width`ì™€ `android:layout_height` ì†ì„±ì€ í™”ë©´ì˜ ë„ˆë¹„ì™€ ë†’ì´ë¥¼ ì§€ì •í•˜ê¸° ë•Œë¬¸ì— í•„ìˆ˜ì ì¸ ì†ì„±ì´ë‹¤.
ë˜í•œ `android:orientation`ì€ LinearLayoutì˜ ì†ì„±ìœ¼ë¡œ í™”ë©´ì„ ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì„ ë‚˜íƒ€ë‚´ëŠ”ë°, í•˜ìœ„ View ìš”ì†Œë“¤ì„ ìˆ˜ì§ìœ¼ë¡œ ë°°ì¹˜í•˜ëŠ” verticalê³¼ ìˆ˜í‰ìœ¼ë¡œ ë°°ì¹˜í•˜ëŠ” horizontalì˜ ê°’ì„ ê°€ì§€ë©° ê¸°ë³¸ê°’ì€ horizontalì´ë‹¤.

LinearLayout ë‚´ë¶€ì—ëŠ” ìˆ«ì í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•˜ëŠ” TextViewì™€ Button ë‘ ê°œë¥¼ ìˆ˜í‰ìœ¼ë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ LinearLayoutì„ í•˜ë‚˜ ë” ìƒì„±í•˜ì—¬ ê·¸ ë‚´ë¶€ì— êµ¬ì„±í•˜ì˜€ë‹¤. ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```kotlin
    <TextView
        android:id="@+id/numberTextView"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:gravity="center"
        android:text="0"
        android:textColor="@color/blue"
        android:textSize="100sp"
        android:textStyle="bold|italic" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:orientation="horizontal">

        <Button
            android:id="@+id/resetButton"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_weight="1"
            android:text="ì´ˆê¸°í™”" />

        <Button
            android:id="@+id/plusButton"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_weight="1"
            android:text="+" />
    </LinearLayout>
```

ë’¤ì—ì„œ ìˆì„ ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•´ ê°ê°ì˜ êµ¬ì„± ìš”ì†Œì— id ê°’ì„ ì§€ì •í•´ì£¼ì—ˆë‹¤. ê¸°ëŠ¥ êµ¬í˜„ ì‹œ, í•´ë‹¹ id ê°’ì„ í†µí•´ í•´ë‹¹ ìš”ì†Œë¥¼ ì¸ì‹í•˜ê³  ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. 
<br>
ë‹¤ìŒìœ¼ë¡œ ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.

<br>

## ğŸ“”ê¸°ëŠ¥ êµ¬í˜„ - ìœ ì € ì…ë ¥ê°’ ë°›ì•„ì˜¤ê¸°

ë¨¼ì € ê° ë²„íŠ¼ì˜ ê¸°ëŠ¥ì„ ë¨¼ì € êµ¬í˜„í•´ë³´ì.

'+' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê°’ì„ 1ì”© ì¶”ê°€í•˜ê³ , 'ì´ˆê¸°í™”' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê°’ì„ ì´ˆê¸°í™”í•œë‹¤.

### ğŸ“–MainActivity.kt

```kotlin
private var number = 0
```

ìš°ì„ , TextViewì— ì¹´ìš´íŠ¸ ëœ ê°’ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ì´ë¥¼ ì €ì¥í•  `number` ë³€ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤.

```kotlin
val resetButton = findViewById<Button>(R.id.resetButton)
val plusButton = findViewById<Button>(R.id.plusButton)
```

ì•ì„œ ì–¸ê¸‰ í–ˆë“¯ì´, ê° ìš”ì†Œì— ì„¤ì •í•´ë‘ì—ˆë˜ id ê°’ì„ ê°€ì ¸ì™€ í•´ë‹¹í•˜ëŠ” ë³€ìˆ˜ë¥¼ ìƒì„±í•´ì¤€ë‹¤.

```kotlin
        resetButton.setOnClickListener {
            number = 0
            Log.d("onClick", "ìˆ«ìëŠ” $number")
        }

        plusButton.setOnClickListener {
            number += 1
            Log.d("onClick", "ìˆ«ìëŠ” $number")
        }
```

`resetButton`ì„ ëˆ„ë¥´ë©´ `number` ê°’ì„ ì´ˆê¸°í™”í•˜ì—¬ 0ìœ¼ë¡œ, `plusButton`ì„ ëˆ„ë¥´ë©´ `number` ê°’ì„ 1ì”© ì¦ê°€í•˜ë„ë¡ í•˜ì˜€ê³ , ì´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ë¡œê·¸ê°’ì„ ì„¤ì •í•´ ì£¼ì—ˆë‹¤.

![button_click_log.png](/assets/images/fastcampus/part1/counting_number/button_click_log.png)

ë¡œê·¸ìº£ì— ê°’ì´ ì˜ ë“¤ì–´ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

## ğŸ“”ê¸°ëŠ¥ êµ¬í˜„ - ìˆ«ìì„¸ê¸°

ìœ„ì˜ ê¸°ëŠ¥ì„ í† ëŒ€ë¡œ í…ìŠ¤íŠ¸ ë·°ì— ìˆ«ìë¥¼ ë„ì›Œë³´ë„ë¡ í•˜ì.

### ğŸ“–MainActivity.kt

```kotlin
val numberTextView = findViewById<TextView>(R.id.numberTextView).apply {
            text = number.toString()
        }
```

í…ìŠ¤íŠ¸ ë·° id ê°’ì„ ê°€ì ¸ì™€ ë³€ìˆ˜ë¡œ ë§Œë“¤ì–´ì¤€ ë’¤, ì´ˆê¸°ê°’ì„ 0ìœ¼ë¡œ ì´ˆê¸°í™” í•´ ë³´ì—¬ì£¼ë„ë¡ í•˜ì˜€ë‹¤. ê°’ì„ ê°€ì ¸ì™”ìœ¼ë‹ˆ ë²„íŠ¼ì´ ëˆŒë ¸ì„ ë•Œ í…ìŠ¤íŠ¸ ë·°ì˜ í…ìŠ¤íŠ¸ê°€ ë³€ê²½ë˜ë„ë¡ í•˜ê¸° ìœ„í•´ ìœ„ ë²„íŠ¼ í´ë¦­ ê¸°ëŠ¥ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì£¼ì—ˆë‹¤.

```kotlin
resetButton.setOnClickListener {
    number = 0
    numberTextView.text = number.toString()
    Log.d("onClick", "ìˆ«ìëŠ” $number")
}

plusButton.setOnClickListener {
    number += 1
    numberTextView.text = number.toString()
    Log.d("onClick", "ìˆ«ìëŠ” $number")
}
```

ì´ë ‡ê²Œ í•˜ë©´ ê°ê°ì˜ ë²„íŠ¼ì´ ëˆŒë ¸ì„ ë•Œ í•´ë‹¹ë˜ëŠ” ê¸°ëŠ¥ì´ í…ìŠ¤íŠ¸ ë·°ì— ë°˜ì˜ë˜ì–´ ë³´ì—¬ì§„ë‹¤.

<div>
<img src="/assets/images/fastcampus/part1/counting_number/result1.jpg" width="300" height="500"/>
<img src="/assets/images/fastcampus/part1/counting_number/result2.jpg" width="300" height="500"/>
</div>

## ğŸ“”ì¶”ê°€ êµ¬í˜„

### ğŸ“–í™”ë©´ íšŒì „ìœ¼ë¡œ ì¸í•œ ìƒíƒœ ë³€ê²½ ì‹œ, ê°’ ìœ ì§€

í™”ë©´ íšŒì „ì´ ì§„í–‰ ë˜ì—ˆì„ ë•Œ, í…ìŠ¤íŠ¸ ë·°ì˜ ê°’ì´ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ì´ëŠ” activityì˜ ìƒëª… ì£¼ê¸° ë•Œë¬¸ì¸ë°, í™”ë©´ì´ ê°€ë¡œë¡œ ë³€ê²½ë˜ì—ˆì„ ë•Œ ìƒëª… ì£¼ê¸°ê°€ ë‹¤ì‹œ ì‹œì‘ëœë‹¤. ì´ë¡œ ì¸í•´ ê°’ì€ ì´ˆê¸°í™” ë˜ì–´ í™”ë©´ íšŒì „ ì‹œì— ê°’ì´ ìœ ì§€ê°€ ë˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.

ë”°ë¼ì„œ ë‚˜ëŠ” `onSaveInstanceState`ë¡œ ë²ˆë“¤ì— ë°ì´í„°ë¥¼ ì €ì¥í•´ ë‘ì—ˆê³  `onCreate()`ìƒíƒœì—ì„œ ì €ì¥ëœ ìƒíƒœë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ë„ë¡ í•˜ì˜€ë‹¤.

### ğŸ“–MainActivity.kt

```kotlin
override fun onSaveInstanceState(outState: Bundle) {
        super.onSaveInstanceState(outState)
        outState.putInt("current_number", number)
}
```

`onSaveInstaceState` ë¥¼ ì¬ì •ì˜ í•˜ì—¬ í‚¤ì™€ ë°ì´í„° ê°’ì„ ì €ì¥í•´ ë‘ì—ˆë‹¤.

```kotlin
override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        number = savedInstanceState?.getInt("current_number") ?: 0
```

`oncreate()` í˜¸ì¶œ ì‹œ ë²ˆë“¤ë¡œë¶€í„° ì €ì¥ëœ ë°ì´í„°ë¥¼ êº¼ë‚´ì˜¨ë‹¤.

<center>
<img src="/assets/images/fastcampus/part1/counting_number/before_change.jpg" width="300" height="500"/>
    <figcaption>í™”ë©´ ë³€ê²½ ì „</figcaption>
</center>

<br>

<center>
<img src="/assets/images/fastcampus/part1/counting_number/after_change.jpg" width="500" height="300"/>
    <figcaption>í™”ë©´ ë³€ê²½ í›„</figcaption>
</center>

## ğŸ“”ì „ì²´ ì½”ë“œ

### ğŸ“–activity_main.xml

```kotlin
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">

    <TextView
        android:id="@+id/numberTextView"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:gravity="center"
        android:text="0"
        android:textColor="@color/blue"
        android:textSize="100sp"
        android:textStyle="bold|italic" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:orientation="horizontal">

        <Button
            android:id="@+id/resetButton"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_weight="1"
            android:text="ì´ˆê¸°í™”" />

        <Button
            android:id="@+id/plusButton"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_weight="1"
            android:text="+" />
    </LinearLayout>

</LinearLayout>
```

### ğŸ“–MainActivity.kt

```kotlin
import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.util.Log
import android.widget.Button
import android.widget.TextView

class MainActivity : AppCompatActivity() {

    private var number = 0

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        number = savedInstanceState?.getInt("current_number") ?: 0

        val numberTextView = findViewById<TextView>(R.id.numberTextView).apply {
            text = number.toString()
        }
        val resetButton = findViewById<Button>(R.id.resetButton)
        val plusButton = findViewById<Button>(R.id.plusButton)

        resetButton.setOnClickListener {
            number = 0
            numberTextView.text = number.toString()
            Log.d("onClick", "ìˆ«ìëŠ” $number")
        }

        plusButton.setOnClickListener {
            number += 1
            numberTextView.text = number.toString()
            Log.d("onClick", "ìˆ«ìëŠ” $number")
        }
    }

    override fun onSaveInstanceState(outState: Bundle) {
        super.onSaveInstanceState(outState)
        outState.putInt("current_number", number)
    }
```
