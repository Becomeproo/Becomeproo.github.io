---
title:  "[Kotlin] í´ë˜ìŠ¤(4)"

categories:
  - Kotlin
tags:
  - [Kotlin, í´ë˜ìŠ¤, Kotlin ì •ë¦¬]

toc: true
toc_sticky: true
 
date: 2023-02-05 10:34:58+0900
last_modified_at: 2023-02-05 10:35:04+0900

---

<br>
<br>
<br>

# ğŸ“š í´ë˜ìŠ¤(4)

<br>

## ğŸ“” í™•ì¥ í•¨ìˆ˜

<br>

### ğŸ“– í™•ì¥ í•¨ìˆ˜ ì •ì˜ì™€ í˜¸ì¶œ ê·œì¹™

* í™•ì¥ í•¨ìˆ˜ ì •ì˜: í•¨ìˆ˜ ì´ë¦„ ì•ì— ë¦¬ì‹œë²„ í´ë˜ìŠ¤ë¥¼ ì ‘ë‘ì‚¬ë¡œ ë¶™ì—¬ì„œ ì •ì˜
* í™•ì¥ í•¨ìˆ˜ í˜¸ì¶œ: ë¦¬ì‹œë²„ í´ë˜ìŠ¤ ëŒ€ì‹  ë¦¬ì‹œë²„ ê°ì²´ë¥¼ ì§€ì •í•˜ê³  í™•ì¥ í•¨ìˆ˜ë¥¼ ë©”ì„œë“œë¡œ í˜¸ì¶œí•´ì„œ ì‹¤í–‰

<br>

### ğŸ“– ë‚´ì¥ í´ë˜ìŠ¤ì˜ í™•ì¥ í•¨ìˆ˜ ì •ì˜


```kotlin
fun Int.swap(other: Int): Pair<Int, Int> { // Pair í´ë˜ìŠ¤ëŠ” 2ê°œì˜ ì›ì†Œë¥¼ ê°€ì§„ íŠœí”Œ
    var (first, second) = other to this // íŠœí”Œ êµ¬ì¡° ë¶„í•´ë¡œ ë³€ìˆ˜ êµí™˜
    return first to second // to ë©”ì„œë“œ:  2ê°œì˜ ì›ì†Œë¥¼ íŠœí”Œí™”
}

fun String.swap(other: String): Pair<String, String> {
    var (first, second) = other to this
    return first to second
}

println((100).swap(200))
println(("1ì°¨").swap("2ì°¨"))
```

    (200, 100)
    (2ì°¨, 1ì°¨)


<br>

### ğŸ“– ìµœìƒìœ„ í´ë˜ìŠ¤ì˜ í™•ì¥ í•¨ìˆ˜ ì •ì˜

ìµœìƒìœ„ í´ë˜ìŠ¤ Anyì— í™•ì¥ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´ ì´ë¥¼ ìƒì†í•œ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ëª¨ë‘ ì´ í™•ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.


```kotlin
fun Any.dir(): Set<String> {
    val a = this.javaClass.kotlin
    
    var ll = mutableListOf<String>() // ë¹ˆ ê°€ë³€ ë¦¬ìŠ¤íŠ¸ ìƒì„±
    for (i in a.members) { // í´ë˜ìŠ¤ ë‚´ì˜ ë©¤ë²„ ì¡°íšŒ
        ll.add(i.name)
    }
    return ll.toSet() // ë™ì¼í•œ ì´ë¦„ ì œê±°
}
val intM = (100).dir()
println(intM.count()) // ì§‘í•©ì— ë“¤ì–´ì˜¨ ë©¤ë²„ì˜ ê°œìˆ˜

println(("str".dir().count())) // ë¬¸ìì—´ ë‚´ë¶€ì˜ ë©¤ë²„ ê°œìˆ˜
println((listOf(1, 2, 3).dir().count())) // ë¦¬ìŠ¤íŠ¸ ë‚´ë¶€ì˜ ë©¤ë²„ ê°œìˆ˜

class Person
println(Person().dir().count()) // ì‚¬ìš©ì ì •ì˜ ë‚´ë¶€ì˜ ë©¤ë²„ ê°œìˆ˜
```

    31
    21
    34
    3
    

<br>

### ğŸ“– ì‚¬ìš©ì í´ë˜ìŠ¤ì˜ í™•ì¥ í•¨ìˆ˜ ì •ì˜


```kotlin
class Person(val firstName: String, val lastName: String)

val p = Person("ë‹¬", "ë¬¸")

fun Person.getName() = this.firstName + this.lastName // ë‘ ê°œì˜ ì†ì„±ì„ ì¡°íšŒí•˜ëŠ” í™•ì¥ í•¨ìˆ˜

println(p.getName())
println(p::firstName.name) // ì†ì„± ì°¸ì¡° í›„ ì†ì„± ê°’ ì¡°íšŒ
println(p::firstName.get()) // ì†ì„± ì°¸ì¡° í›„ ì†ì„± ê°’ ì¡°íšŒ
```

    ë‹¬ë¬¸
    firstName
    ë‹¬


<br>

### ğŸ“– ì‚¬ìš©ì í´ë˜ìŠ¤ì˜ ë„ëŸ¬ë¸” í™•ì¥ í•¨ìˆ˜ ì •ì˜


```kotlin
class Person(val firstName: String, val lastName: String)

fun Person?.getFullName() : String? { // ë„ëŸ¬ë¸” ìë£Œí˜•ì— í™•ì¥
    if (this == null) { return null } // ë„ ì²´í¬ ì²˜ë¦¬
    else {
        return this.firstName + this.lastName // ë„ì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ ì†ì„± ë°˜í™˜
    }
}

var p = null
println(p.getFullName())
```

    null


<br>

### ğŸ“– object ì •ì˜ì— í™•ì¥ í•¨ìˆ˜ ì¶”ê°€


```kotlin
object A

fun A.swap(one: Int, other: Int): Pair<Int, Int> { // ë‘ ìˆ˜ êµí™˜ í™•ì¥ í•¨ìˆ˜
    val (second, first) = one to other // ë°˜í™˜ì€ íŠœí”Œ
    return first to second
}

println(A.swap(100, 200))
```

    (200, 100)


<br>

### ğŸ“– companion objectì˜ í™•ì¥ í•¨ìˆ˜ ì •ì˜


```kotlin
class AA private constructor(val name: String) { // ì ‘ê·¼ ë¶ˆê°€ ìƒì„±ì ì •ì˜
    companion object {
        fun create(name: String): AA { // companion objectì—ì„œ ê°ì²´ ìƒì„±
            return AA(name)
        }
    }
}

fun AA.Companion.create2(name: String): AA { // ê°ì²´ ìƒì„± í™•ì¥ í•¨ìˆ˜
    return this.create(name) // ì ‘ê·¼ ë¶ˆê°€ ìƒì„±ì í˜¸ì¶œ ëŒ€ì‹  ì»´íŒ¨ë‹ˆì–¸ ë‚´ì˜ ìƒì„±ì ë©”ì„œë“œ í˜¸ì¶œ
}

val aa = AA.create("dal")
println(aa.name)

val bb = AA.create2("moon")
println(bb.name)
```

    dal
    moon


<br>

### ğŸ“– í™•ì¥ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ê°ì²´ë¥¼ ì²˜ë¦¬í•  ë•Œ ë¦¬ì‹œë²„ ê°ì²´ ì²˜ë¦¬ ë°©ì‹


```kotlin
fun String.truncator(max: Int): String { // ë¬¸ìì—´ ìë¥´ê¸° í™•ì¥ í•¨ìˆ˜ ì‘ì„±
    if(length <= max) return this  // ê¸¸ì´ê°€ ì‘ìœ¼ë©´ í™•ì¥ í•¨ìˆ˜ì˜ ë¦¬ì‹œë²„ ê°ì²´ ì²˜ë¦¬
    else return this.substring(0, max) // ê¸¸ì´ê°€ í¬ë©´ ë¬¸ìì—´ ìë¥´ê¸°
}

println("ë¬¸ìì—´ìë¥´ê¸°".truncator(4)) // ë¬¸ìì—´ ìë¥´ê¸° ì²˜ë¦¬

interface Actable { // ì¸í„°í˜ì´ìŠ¤ ì‘ì„±
    fun action(max: Int): String // ì¶”ìƒ ë©”ì„œë“œ ì‘ì„±
}

fun String.truncator2(max: Int): String {
    val aaa = object: Actable {
        override fun action(max: Int): String {
            if (length <= max) return this@truncator2
            else return this@truncator2.substring(0, max)
        }
    }
    return aaa.action(max)
}

println("ë¬¸ìì—´ìë¥´ê¸°".truncator2(5))
```

    ë¬¸ìì—´ì
    ë¬¸ìì—´ìë¥´



```kotlin
interface This { // ì¸í„°í˜ì´ìŠ¤ ì‘ì„±
    val truncated: String // ì¶”ìƒ ì†ì„± ì •ì˜
    fun getStr(): String // ì¶”ìƒ ë©”ì„œë“œ ì •ì˜
}

fun String.truncator(max: Int) = object: This {
    override val truncated
        get() = if (length <= max) this@truncator 
                    else this@truncator.substring(0, max)
                    
    override fun getStr() = this@truncator
}

val trunc = "ë¬¸ìì—´ ì²˜ë¦¬".truncator(4)

println(trunc.truncated)
println(trunc.getStr())
```

    ë¬¸ìì—´ 
    ë¬¸ìì—´ ì²˜ë¦¬


<br>

### ğŸ“– í´ë˜ìŠ¤ ë‚´ë¶€ì— í™•ì¥ í•¨ìˆ˜ ì •ì˜


```kotlin
class Extension(var name: String, val n: Int) { // í´ë˜ìŠ¤ ì •ì˜
    fun String.product(x: Int) = this.repeat(x) // ë¬¸ìì—´ í™•ì¥ í•¨ìˆ˜ ì •ì˜
    
    fun query() = name.product(n) // í™•ì¥ í•¨ìˆ˜ë¥¼ ë©í•‘í•œ ë©”ì„œë“œ ì •ì˜
}

val e = Extension("Hello", 3)
println(e.query())
```

    HelloHelloHello


<br>
<br>

## ğŸ“” ë©¤ë²„ì™€ í™•ì¥ì˜ ì£¼ì˜ ì‚¬í•­

í™•ì¥ ì†ì„±ì´ë‚˜ í™•ì¥ í•¨ìˆ˜ëŠ” í´ë˜ìŠ¤ì˜ ë©¤ë²„ê°€ ì•„ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ í´ë˜ìŠ¤ì˜ ë©¤ë²„ì™€ ì´ë¦„ì´ ì¶©ëŒë˜ëŠ” ê²½ìš°, í•­ìƒ ë©¤ë²„ê°€ ìš°ì„ ëœë‹¤. ë‹¨, ë©¤ë²„ê°€ ë¹„ê³µê°œì¼ ê²½ìš°ì—ë§Œ í™•ì¥ì´ ìš°ì„  ì‚¬ìš©ëœë‹¤.

### ğŸ“– ë©¤ë²„ì™€ í™•ì¥ ê°„ ì¶©ëŒ ì‹œ ì²˜ë¦¬ ê¸°ì¤€ : ìƒì† ê´€ê³„

í™•ì¥ í•¨ìˆ˜ì™€ ë©¤ë²„ ë˜ëŠ” ë©”ì„œë“œ ì´ë¦„ì´ ì¶©ëŒí•œ ê²½ìš°, í•­ìƒ ë©¤ë²„ê°€ ìš°ì„ ì´ë‹¤.


```kotlin
open class Person(val name: String, var age: Int) { // ìŠˆí¼ í´ë˜ìŠ¤ ì •ì˜
    open fun say() = "super ì •ì˜ hello"
    
    fun eat() = "super eat"
}

class Student(name: String, age: Int, val school: String) : Person(name, age) { // ì„œë¸Œ í´ë˜ìŠ¤ ì •ì˜
    override fun say() = "sub ì¬ì •ì˜ hello" // ë©”ì„œë“œ ì¬ì •ì˜
}

fun Student.eat() = "sub í™•ì¥ ehllo" // í™•ì¥ í•¨ìˆ˜ ì •ì˜

val p: Person = Student("í•™ìƒ", 13, "ì„œìš¸ ì¤‘í•™êµ") // Person í´ë˜ìŠ¤ ë³€ìˆ˜

println(p.say()) // ìƒì†ê´€ê³„ì— ë”°ë¥¸ ë©¤ë²„ ë©”ì„œë“œ ì²˜ë¦¬
println(p.eat()) // í™•ì¥ í•¨ìˆ˜ê°€ ì•„ë‹Œ Person í´ë˜ìŠ¤ ë©”ì„œë“œ ì²˜ë¦¬
```

    sub ì¬ì •ì˜ hello
    super eat


1.2.1  ğŸ“– ë©¤ë²„ì™€ í™•ì¥ ê°„ ì¶©ëŒ ì‹œ ì²˜ë¦¬ ê¸°ì¤€ : ì†ì„±ê³¼ ë©”ì„œë“œ

í´ë˜ìŠ¤ì˜ ì†ì„±ì´ë‚˜ ë©”ì„œë“œ ì¤‘ì— ì ‘ê·¼ ì§€ì •ìë¡œ privateì´ ì‚¬ìš©ëœ ê²½ìš°, ì™¸ë¶€ì— ì •ì˜ëœ í™•ì¥ í•¨ìˆ˜ì™€ ì´ë¦„ì´ ì¤‘ë³µì´ ë˜ë”ë¼ë„ ë¹„ê³µê°œ ë©¤ë²„ëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì¶©ëŒì´ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤.


```kotlin
class Integer(val x: Int) {
    val value: Int = x // ì†ì„± ì •ì˜
        get() { // ì†ì„± ê²Œí„° ì •ì˜
            println("í´ë˜ìŠ¤ í•„ë“œ")
            return field
        }
        
    private fun display() = x.toString() // ë¹„ê³µê°œ ë©”ì„œë“œ ì •ì˜
    fun plus(other: Integer): Integer {
        println("í´ë˜ìŠ¤ ë©”ì„œë“œ")
        return Integer(this.x + other.x)
    }
    override fun toString() = "Integer(value= $x)" // ì¬ì •ì˜ ë©”ì„œë“œ
}

fun Integer.plus(other: Integer): Integer { // í´ë˜ìŠ¤ ë‚´ë¶€ ë©¤ë²„ì™€ ì´ë¦„ ì¶©ëŒ
    println("í™•ì¥ í•¨ìˆ˜") //  ì ˆëŒ€ í˜¸ì¶œë˜ì§€ ì•ŠìŒ
    return Integer(this.x + other.x)
}

fun Integer.display(): String { // ë©¤ë²„ì™€ ì´ë¦„ì´ ì¶©ëŒë˜ë‚˜ private ìœ¼ë¡œ ì¸í•´ ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥
    println("í™•ì¥ í•¨ìˆ˜")
    return this.x.toString()
}

val Integer.value: Int // í´ë˜ìŠ¤ í•„ë“œì™€ ì´ë¦„ ì¶©ëŒ
    get() { // í™•ì¥ í•„ë“œëŠ” ë°°í‚¹ í•„ë“œê°€ ì—†ìŒ
        println("í™•ì¥ í•„ë“œ")
        return 100
    }
    
val inte = Integer(100) // ê°ì²´ ìƒì„±

println(inte.plus(Integer(300))) // í´ë˜ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ
println(inte.value) // í´ë˜ìŠ¤ í•„ë“œ í˜¸ì¶œ
println(inte.display()) // í™•ì¥ í•¨ìˆ˜ í˜¸ì¶œ
```

    í´ë˜ìŠ¤ ë©”ì„œë“œ
    Integer(value= 400)
    í´ë˜ìŠ¤ í•„ë“œ
    100
    í™•ì¥ í•¨ìˆ˜
    100

